{"version":3,"sources":["../src/api/route.ts","../src/api/app.ts","../src/api/ui.ts","../src/api/kvstorage.ts","../src/api/device.ts","../src/api/memory-cache.ts"],"sourcesContent":["import jsBridge from \"../bridge\";\r\nimport { MResponse } from \"../types\";\r\n\r\nexport function navigateTo(data: {\r\n  page: string;\r\n  title?: string;\r\n}): Promise<MResponse> {\r\n  return jsBridge.callNative({\r\n    api: \"navigateTo\",\r\n    data: data,\r\n  });\r\n}\r\n\r\nexport function navigateBack(delta: number = 1): Promise<MResponse> {\r\n  return jsBridge.callNative({\r\n    api: \"navigateBack\",\r\n    data: {\r\n      delta,\r\n    },\r\n  });\r\n}\r\n\r\nexport function redirectTo(data: {\r\n  page: string;\r\n  title?: string;\r\n}): Promise<MResponse> {\r\n  return jsBridge.callNative({\r\n    api: \"redirectTo\",\r\n    data: data,\r\n  });\r\n}\r\n\r\nexport function openWebsite(url: string): Promise<MResponse> {\r\n  return jsBridge.callNative({\r\n    api: \"openWebsite\",\r\n    data: { url },\r\n  });\r\n}\r\n\r\nexport function openSettings(): Promise<MResponse> {\r\n  return jsBridge.callNative({\r\n    api: \"openSettings\",\r\n  });\r\n}\r\n","import jsBridge from \"../bridge\";\r\nimport { AppInfo, MResponse, MResponseWithData } from \"../types\";\r\n\r\nexport function closeApp(): Promise<MResponse> {\r\n  return jsBridge.callNative({\r\n    api: \"closeApp\",\r\n  });\r\n}\r\n\r\nexport function showAppDetail(): Promise<MResponse> {\r\n  return jsBridge.callNative({\r\n    api: \"showAppDetail\",\r\n  });\r\n}\r\n\r\nexport function installApp(url: string): Promise<MResponse> {\r\n  return jsBridge.callNative({\r\n    api: \"installApp\",\r\n    data: {\r\n      url,\r\n    },\r\n  });\r\n}\r\n\r\nexport function getInstalledAppList(): Promise<MResponseWithData<AppInfo[]>> {\r\n  return jsBridge.callNative({\r\n    api: \"getInstalledAppList\",\r\n  });\r\n}\r\n","import jsBridge from \"../bridge\";\r\nimport {\r\n  AlertConfig,\r\n  DateAndTimePickerConfig,\r\n  MResponse,\r\n  MResponseWithData,\r\n  MultipleColumnsPickerConfig,\r\n  ShowAlertData,\r\n  ShowHUDRequest,\r\n  SingleColumnPickerConfig,\r\n} from \"../types\";\r\n\r\n// navigation bar\r\n\r\nexport function setNavigationBarTitle(title: string): Promise<MResponse> {\r\n  return jsBridge.callNative({\r\n    api: \"setNavigationBarTitle\",\r\n    data: {\r\n      title,\r\n    },\r\n  });\r\n}\r\n\r\nexport function setNavigationBarColor(config: {\r\n  foregroundColor: string;\r\n  backgroundColor: string;\r\n}): Promise<MResponse> {\r\n  return jsBridge.callNative({\r\n    api: \"setNavigationBarColor\",\r\n    data: config,\r\n  });\r\n}\r\n\r\n// pulldown refresh\r\n\r\nexport function enablePullDownRefresh(): Promise<MResponse> {\r\n  return jsBridge.callNative({\r\n    api: \"enablePullDownRefresh\",\r\n  });\r\n}\r\n\r\nexport function disablePullDownRefresh(): Promise<MResponse> {\r\n  return jsBridge.callNative({\r\n    api: \"disablePullDownRefresh\",\r\n  });\r\n}\r\n\r\nexport function onPullDownRefresh(callback: (e: Event) => any) {\r\n  window.addEventListener(\"pulldownrefresh\", callback);\r\n}\r\n\r\nexport function startPullDownRefresh(): Promise<MResponse> {\r\n  return jsBridge.callNative({\r\n    api: \"startPullDownRefresh\",\r\n  });\r\n}\r\n\r\nexport function stopPullDownRefresh(): Promise<MResponse> {\r\n  return jsBridge.callNative({\r\n    api: \"stopPullDownRefresh\",\r\n  });\r\n}\r\n\r\n// HUD\r\n\r\nexport function showHUD(req: ShowHUDRequest): Promise<MResponse> {\r\n  return jsBridge.callNative({\r\n    api: \"showHUD\",\r\n    data: req,\r\n  });\r\n}\r\n\r\nexport function hideHUD(): Promise<MResponse> {\r\n  return jsBridge.callNative({\r\n    api: \"hideHUD\",\r\n  });\r\n}\r\n\r\n// alert\r\nexport function showAlert(\r\n  config: AlertConfig,\r\n): Promise<MResponseWithData<ShowAlertData>> {\r\n  return jsBridge.callNative({\r\n    api: \"showAlert\",\r\n    data: config,\r\n  });\r\n}\r\n\r\n// media\r\nexport function previewImage(url: string): Promise<MResponse> {\r\n  return jsBridge.callNative({\r\n    api: \"previewImage\",\r\n    data: {\r\n      url,\r\n    },\r\n  });\r\n}\r\n\r\nexport function previewVideo(url: string): Promise<MResponse> {\r\n  return jsBridge.callNative({\r\n    api: \"previewVideo\",\r\n    data: {\r\n      url,\r\n    },\r\n  });\r\n}\r\n\r\n// picker\r\nexport function showPicker(\r\n  type: \"singleColumn\",\r\n  data: SingleColumnPickerConfig,\r\n): Promise<MResponseWithData<number | null | undefined>>;\r\nexport function showPicker(\r\n  type: \"multipleColumns\",\r\n  data: MultipleColumnsPickerConfig,\r\n): Promise<MResponseWithData<number[] | null | undefined>>;\r\nexport function showPicker(\r\n  type: \"date\" | \"time\",\r\n  data: DateAndTimePickerConfig,\r\n): Promise<MResponseWithData<string | null | undefined>>;\r\n\r\nexport function showPicker(\r\n  type: \"singleColumn\" | \"multipleColumns\" | \"date\" | \"time\",\r\n  data:\r\n    | SingleColumnPickerConfig\r\n    | MultipleColumnsPickerConfig\r\n    | DateAndTimePickerConfig,\r\n): Promise<MResponseWithData<number | number[] | string | null | undefined>> {\r\n  let res;\r\n  if (\r\n    (type === \"time\" || type === \"date\") &&\r\n    !(data as DateAndTimePickerConfig).dateFormat\r\n  ) {\r\n    res = jsBridge.callNative({\r\n      api: \"showPicker\",\r\n      data: {\r\n        type,\r\n        data: {\r\n          ...data,\r\n          dateFormat: type === \"date\" ? \"yyyy-MM-dd\" : \"HH:mm:ss\",\r\n        },\r\n      },\r\n    });\r\n  } else {\r\n    res = jsBridge.callNative({\r\n      api: \"showPicker\",\r\n      data: { type, data },\r\n    });\r\n  }\r\n  return res;\r\n}\r\n","import jsBridge from \"../bridge\";\r\nimport { MResponse, MResponseWithData } from \"../types\";\r\n\r\n// async methods\r\n\r\nexport function getKVStorage(key: string): Promise<MResponseWithData<string>> {\r\n  return jsBridge.callNative({\r\n    api: \"getKVStorage\",\r\n    data: { key },\r\n  });\r\n}\r\n\r\nexport function setKVStorage(key: string, value: string): Promise<MResponse> {\r\n  return jsBridge.callNative({\r\n    api: \"setKVStorage\",\r\n    data: { key, value },\r\n  });\r\n}\r\n\r\nexport function deleteKVStorage(key: string): Promise<MResponse> {\r\n  return jsBridge.callNative({\r\n    api: \"deleteKVStorage\",\r\n    data: { key },\r\n  });\r\n}\r\n\r\nexport function clearKVStorage(): Promise<MResponse> {\r\n  return jsBridge.callNative({\r\n    api: \"clearKVStorage\",\r\n  });\r\n}\r\n\r\n// sync methods\r\n\r\nexport function getKVStorageSync(key: string): MResponseWithData<string> {\r\n  return jsBridge.callNativeSync({\r\n    api: \"getKVStorageSync\",\r\n    data: { key },\r\n  });\r\n}\r\n\r\nexport function setKVStorageSync(key: string, value: string): MResponse {\r\n  return jsBridge.callNativeSync({\r\n    api: \"setKVStorageSync\",\r\n    data: { key, value },\r\n  });\r\n}\r\n\r\nexport function deleteKVStorageSync(key: string): MResponse {\r\n  return jsBridge.callNativeSync({\r\n    api: \"deleteKVStorageSync\",\r\n    data: { key },\r\n  });\r\n}\r\n\r\nexport function clearKVStorageSync(): MResponse {\r\n  return jsBridge.callNativeSync({\r\n    api: \"clearKVStorageSync\",\r\n  });\r\n}\r\n","import jsBridge from \"../bridge\";\r\nimport { MResponse, MResponseWithData } from \"../types\";\r\nimport { DeviceInfo } from \"../types/deviceinfo\";\r\n\r\n/**\r\n *\r\n * @param type medium as default\r\n */\r\nexport function vibrate(\r\n  type?: \"light\" | \"medium\" | \"heavy\",\r\n): Promise<MResponse> {\r\n  return jsBridge.callNative({\r\n    api: \"vibrate\",\r\n    data: {\r\n      type: type ?? \"medium\",\r\n    },\r\n  });\r\n}\r\n\r\nexport function getClipboardData(): Promise<MResponseWithData<string>> {\r\n  return jsBridge.callNative({\r\n    api: \"getClipboardData\",\r\n  });\r\n}\r\n\r\nexport function setClipboardData(\r\n  data: string,\r\n): Promise<MResponseWithData<string>> {\r\n  return jsBridge.callNative({\r\n    api: \"setClipboardData\",\r\n    data: {\r\n      data,\r\n    },\r\n  });\r\n}\r\n\r\nexport function scanQRCode(): Promise<\r\n  MResponseWithData<string | undefined | null>\r\n> {\r\n  return jsBridge.callNative({ api: \"scanQRCode\" });\r\n}\r\n\r\nexport function getDeviceInfo(): Promise<MResponseWithData<DeviceInfo>> {\r\n  return jsBridge.callNative({ api: \"getDeviceInfo\" });\r\n}\r\n\r\nexport function getDeviceInfoSync(): MResponseWithData<DeviceInfo> {\r\n  return jsBridge.callNativeSync({ api: \"getDeviceInfoSync\" });\r\n}\r\n","import jsBridge from \"../bridge\";\r\nimport { MResponse, MResponseWithData } from \"../types\";\r\n\r\nexport function getMemoryStorage(\r\n  key: string,\r\n): Promise<MResponseWithData<string>> {\r\n  return jsBridge.callNative({\r\n    api: \"getMemoryStorage\",\r\n    data: { key },\r\n  });\r\n}\r\n\r\nexport function setMemoryStorage(\r\n  key: string,\r\n  value: string,\r\n): Promise<MResponse> {\r\n  return jsBridge.callNative({\r\n    api: \"setMemoryStorage\",\r\n    data: { key, value },\r\n  });\r\n}\r\nexport function setMemoryStorageIfNotExist(\r\n  key: string,\r\n  value: string,\r\n): Promise<MResponseWithData<boolean>> {\r\n  return jsBridge.callNative({\r\n    api: \"setMemoryStorageIfNotExist\",\r\n    data: { key, value },\r\n  });\r\n}\r\n\r\nexport function removeMemoryStorage(key: string): Promise<MResponse> {\r\n  return jsBridge.callNative({\r\n    api: \"removeMemoryStorage\",\r\n    data: { key },\r\n  });\r\n}\r\n\r\nexport function clearMemoryStorage(): Promise<MResponse> {\r\n  return jsBridge.callNative({\r\n    api: \"clearMemoryStorage\",\r\n  });\r\n}\r\n"],"mappings":"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","names":[]}